<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>元素选择+知识点展示</title>
  <script src="../js/modules/cytoscape.min.js"></script>
  <link rel="stylesheet" href="../css/styles.css">
  <!-- Iconify图标库 -->
  <script src="../js/modules/iconify-icon.min.js"></script>
</head>

<body>
  <div class="main-container">
    <!-- 顶部标题栏 -->
    <header class="top-header-lean">
      <h1 class="header-title" id="headerTitle">
        <iconify-icon icon="mdi:book-education" width="24" height="24"></iconify-icon>
        加载中...
      </h1>
      <div class="user-profile">
        <!-- 中英文切换按钮 -->
        <button id="language-toggle" class="language-toggle-button">
          <iconify-icon icon="mdi:translate" width="20" height="20"></iconify-icon>
          EN
        </button>
        <button class="back-button" id="backButton">
          <iconify-icon icon="mdi:arrow-left" width="20" height="20"></iconify-icon>
          返回
        </button>
        <iconify-icon icon="mdi:account-circle" width="36" height="36"></iconify-icon>
      </div>
    </header>
    <div class="content-container">
      <!-- 侧边导航栏 -->
      <div class="sidebar-section" id="sidebarSection">
        <div class="sidebar-header">
          <h3 class="sidebar-title">
            <iconify-icon icon="mdi:book-multiple" width="20" height="20"></iconify-icon>
            知识点导航
          </h3>
          <button class="sidebar-toggle" id="sidebarToggle">
            <iconify-icon icon="mdi:chevron-right" width="20" height="20"></iconify-icon>
          </button>
        </div>
        <div class="sidebar-content">
          <ul class="nav-menu" id="navMenu">
            <!-- 导航内容将由JavaScript动态生成 -->
          </ul>
        </div>
      </div>
      <!-- 左侧组合列（占 60% 宽） -->
      <div class="left-group">
        <!-- 上排：开放式示例页面探索（预览 + 代码展示） -->
        <div class="top-row">
          <!-- 整合的示例页面探索区域 -->
          <div class="example-exploration-panel panel">
            <!-- 统一标题栏 -->
            <div class="panel-header">
              <iconify-icon icon="mdi:web" width="18" height="18"></iconify-icon>
              <h2>示例页面展示</h2>
            </div>
            <!-- 内容区域：左侧预览 + 右侧代码 -->
            <div class="exploration-content">
              <!-- 左侧网页预览区 -->
              <div class="preview-section">
                <div class="ratio-16x9">
                  <iframe id="element-selector-iframe" src="example_pages/index.html"></iframe>
                </div>
              </div>
              <!-- 右侧代码展示区 -->
              <div class="code-section">
                <div class="info-content" id="code-content">
                  <h2>示例代码</h2>
                  <pre id="selectedElementCode"></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- 下排：知识点（跨左+中列） -->
        <div class="knowledge-panel panel" id="knowledge-panel">
          <div class="panel-header">
            <iconify-icon icon="mdi:lightbulb-on" width="18" height="18"></iconify-icon>
            <h2>知识点展示</h2>
          </div>
          <div class="info-content" id="knowledge-content">
            <p>level.1的知识点内容</p>
            <p>level.2的知识点内容</p>
            <p>level.3的知识点内容</p>
            <p>level.4的知识点内容</p>
          </div>
          <button id="start-test-button" class="btn btn-primary start-button">
            <iconify-icon icon="mdi:play" width="18" height="18"></iconify-icon>
            开始练习
          </button>
        </div>
      </div>

      <!-- 右侧 AI 对话（占 40% 宽，跨两行） -->
      <div class="chat-panel panel">
        <div class="panel-header">
          <iconify-icon icon="mdi:robot" width="18" height="18"></iconify-icon>
          <h2>AI助教</h2>
        </div>
        <div class="chat-history">
          <div class="ai-chat-messages" id="ai-chat-messages">
            <div class="user-message">
              <div class="user-avatar">
                <iconify-icon icon="mdi:account" width="20" height="20"></iconify-icon>
              </div>
              <div class="user-content">
                我是html初学者，请介绍一下HTML表格的基本用法
              </div>
            </div>
            <div class="ai-message">
              <div class="ai-avatar">
                <iconify-icon icon="mdi:robot" width="20" height="20"></iconify-icon>
              </div>
              <div class="ai-content">
                <div class="markdown-content">
                  当然可以！作为 HTML 初学者，学习"表格（Table）"是非常实用的一步。它能帮助你做网页中最常见的数据结构，比如成绩单、产品价格表等。<br><br><b>HTML
                    表格的基本结构</b><br>HTML 使用 <code>&lt;table&gt;</code> 标签来创建表格，基本结构如下：<br>
                  <pre class="code-example">&lt;table&gt;
                                &lt;tr&gt;
                                  &lt;th&gt;标题1&lt;/th&gt;
                                  &lt;th&gt;标题2&lt;/th&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                  &lt;td&gt;单元格1&lt;/td&gt;
                                  &lt;td&gt;单元格2&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/table&gt;</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="ai-chat-input">
          <!-- 聊天输入主区域 -->
          <div class="chat-input-main">
            <textarea id="user-message" placeholder="请输入信息"></textarea>
            <button type="button" id="send-message" class="btn btn-primary">
              <iconify-icon icon="mdi:send" width="16" height="16"></iconify-icon>
              发送信息
            </button>
          </div>
        </div>
        <div class="status-container">
          <span id="statusBadge"></span>
        </div>
        <div class="status-container">
        </div>
      </div>
    </div>
  </div>

  <!-- 引入learning_page.js（已包含所有必要功能） -->
  <script type="module" src="../js/pages/learning_page.js"></script>

</body>

</html>