<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI HTML Learning Platform - Code Editor</title>
    <link rel="stylesheet" href="../css/styles.css">
    <!-- Iconifyå›¾æ ‡åº“ -->
    <script src="../js/modules/iconify-icon.min.js"></script>
    <!-- Monaco Editor CSS -->
    <link rel="stylesheet" data-name="vs/editor/editor.main"
        href="https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/editor/editor.main.css">
    <!-- ä»£ç é«˜äº® CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/github.min.css">
</head>

<body class="test-page">
    <div class="main-container">
        <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
        <header class="top-header">
            <h1 class="header-title" id="headerTitle">
                <iconify-icon icon="mdi:test-tube" width="24" height="24"></iconify-icon>
                loading...
            </h1>
            <!-- ä¸­è‹±æ–‡åˆ‡æ¢æŒ‰é’® -->
            <button id="language-toggle-test" class="back-button" style="position: absolute; right: 120px; display: flex; align-items: center; gap: var(--spacing-xs); padding: var(--spacing-sm) var(--spacing-md); background-color: rgba(255, 255, 255, 0.2); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: var(--border-radius-md); color: white; cursor: pointer; transition: all 0.2s ease; font-size: var(--font-size-sm); font-weight: 500;">
              <iconify-icon icon="mdi:translate" width="20" height="20"></iconify-icon>
              EN
            </button>
            <div class="user-profile">
                <button class="back-button" id="backButton">
                    <iconify-icon icon="mdi:arrow-left"></iconify-icon>
                    return
                </button>
                <p>helloğŸ‘‹ï¼š</p>
                <P id="participant_id"></P>
                <iconify-icon icon="mdi:account-circle" width="36" height="36"></iconify-icon>
            </div>
        </header>

        <!-- å†…å®¹åŒºåŸŸ -->
        <div class="content-container">
            <!-- å·¦ä¾§åŒºåŸŸï¼šæµ‹è¯•è¦æ±‚ã€æµ‹è¯•ç»“æœå’Œä¿®æ”¹å»ºè®® -->
            <div class="left-panel">
                <!-- æµ‹è¯•è¦æ±‚åŒºåŸŸ -->
                <div class="test-requirements-container panel">
                    <div class="panel-header">
                        <iconify-icon icon="mdi:clipboard-list" width="18" height="18"></iconify-icon>
                        <h2>Programming Requirements</h2>
                    </div>
                    <div class="panel-content markdown-content" id="test-requirements-content">
                        <!-- æµ‹è¯•è¦æ±‚å†…å®¹ -->
                        <div class="requirement-content">
                            <p>loading...</p>
                        </div>
                    </div>
                    <!-- è§£é¢˜æ€è·¯æŒ‰é’® -->
                    <div class="panel-footer">
                        <button id="problem-solving-hint-btn" class="btn btn-primary">
                            <iconify-icon icon="mdi:lightbulb-on-outline" width="18" height="18"></iconify-icon>
                            Give me some inspiration
                        </button>
                    </div>
                </div>

                <!-- æµ‹è¯•ç»“æœåŒºåŸŸ -->
                <div class="test-results-container panel">
                    <div class="panel-header">
                        <iconify-icon icon="mdi:chart-box" width="18" height="18"></iconify-icon>
                        <h2>Execution Result</h2>
                    </div>
                    <div class="panel-content" id="test-results-content">
                        <div class="result-placeholder">
                            <iconify-icon icon="mdi:progress-clock" width="32" height="32" style="color: var(--text-light);"></iconify-icon>
                            <p>Please start writing code first, then click "Submit", and the test results will appear after a while</p>
                        </div>
                        <!-- æµ‹è¯•ç»“æœå†…å®¹ï¼Œåˆå§‹ä¸ºç©º -->
                    </div>
                    <!-- è¯¢é—®AIæŒ‰é’® -->
                    <div class="panel-footer" id="ask-ai-container" style="display: none;">
                        <button id="ask-ai-btn" class="btn btn-primary">
                            <iconify-icon icon="mdi:robot" width="18" height="18"></iconify-icon>
                            Ask the AI
                        </button>
                    </div>
                </div>
            </div>

            <!-- å³ä¾§åŒºåŸŸï¼šç¼–è¾‘å™¨ -->
            <div class="mid-panel panel">
                <!-- ç¼–è¾‘å™¨å·¥å…·æ  -->
                <div class="panel-header">
                    <h2>Programming Editing and Preview</h2>
                    <div class="editor-tabs">
                        <div class="editor-tabs-left">
                            <button class="tab-button active" data-tab="html">
                                HTML
                            </button>
                            <button class="tab-button" data-tab="css">
                                CSS
                            </button>
                            <button class="tab-button" data-tab="js">
                                JS
                            </button>
                        </div>
                        <div class="editor-tabs-right">
                            <button class="tab-button" data-tab="preview">
                                Preview
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ç¼–è¾‘å™¨å’Œé¢„è§ˆåŒºåŸŸ -->
                <div class="editor-preview-area">
                    <!-- ç¼–è¾‘å™¨åŒºåŸŸ -->
                    <div class="editor-container active" id="editor-html">
                        <div id="monaco-editor" class="monaco-editor"></div>
                    </div>

                    <!-- CSSç¼–è¾‘å™¨åŒºåŸŸ -->
                    <div class="editor-container" id="editor-css" style="display: none;">
                        <div id="monaco-editor-css" class="monaco-editor"></div>
                    </div>

                    <!-- JSç¼–è¾‘å™¨åŒºåŸŸ -->
                    <div class="editor-container" id="editor-js" style="display: none;">
                        <div id="monaco-editor-js" class="monaco-editor"></div>
                    </div>

                    <!-- é¢„è§ˆåŒºåŸŸ -->
                    <div class="editor-container" id="editor-preview" style="display: none;">
                        <div class="preview-frame-container">
                            <iframe id="preview-frame" sandbox="allow-scripts" class="preview-frame"></iframe>
                        </div>
                    </div>
                </div>

                <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
                <div class="editor-actions">
                    <button id="submit-button" class="btn btn-secondary">
                        <iconify-icon icon="mdi:check-all" width="16" height="16"></iconify-icon>
                        submit
                    </button>
                </div>
            </div>
            <!-- ä¿®æ”¹å»ºè®®åŒºåŸŸï¼ˆåŸAIå¯¹è¯æ¡†ï¼‰ -->
            <div class="chat-panel panel">
                    <div class="panel-header">
                        <iconify-icon icon="mdi:lightbulb-on" width="18" height="18"></iconify-icon>
                        <h2>Al Teaching Assistant Module</h2>
                    </div>
                    <div class="chat-history">
                        <!-- ä¿®æ”¹å»ºè®®å†…å®¹ -->
                        <div class="ai-chat-messages" id="ai-chat-messages">
                            <div class="ai-message">
                                <div class="ai-avatar">
                                    <iconify-icon icon="mdi:robot" width="20" height="20"></iconify-icon>
                                </div>
                                <div class="ai-content">
                                    <div class="markdown-content">
                                        <h3>æ¬¢è¿ä½¿ç”¨AIå­¦ä¹ åŠ©æ‰‹ï¼</h3>
                                        <p>æˆ‘æ˜¯ä½ çš„AIåŠ©æ‰‹ï¼Œå¯ä»¥å¸®åŠ©ä½ ï¼š</p>
                                        <ul>
                                            <li>è§£å†³HTMLã€CSSå’ŒJavaScriptçš„ç¼–ç¨‹é—®é¢˜</li>
                                            <li>æä¾›ä»£ç ä¼˜åŒ–å»ºè®®</li>
                                            <li>è§£é‡Šç¼–ç¨‹æ¦‚å¿µå’Œæœ€ä½³å®è·µ</li>
                                        </ul>
                                        <p>ä½ å¯ä»¥è¾“å…¥é—®é¢˜å¹¶ç‚¹å‡»â€œæé—®â€æŒ‰é’®æˆ–æŒ‰Enteré”®å‘é€æ¶ˆæ¯ã€‚</p>
                                        <pre><code class="language-html">&lt;!-- ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„HTMLç¤ºä¾‹ --&gt;
&lt;div class="container"&gt;
  &lt;h1&gt;æ¬¢è¿å­¦ä¹ å‰ç«¯å¼€å‘ï¼&lt;/h1&gt;
&lt;/div&gt;</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ai-chat-input">
                            <textarea id="user-message" placeholder="åœ¨è¿™é‡Œè¾“å…¥ä½ çš„é—®é¢˜..."></textarea>
                            <button type="button" id="send-message" class="btn btn-primary">
                                <iconify-icon icon="mdi:send" width="16" height="16"></iconify-icon>
                                æé—®
                            </button>
                        </div>
                    </div>
            </div>
        </div>
    </div>
    <!-- APIå®¢æˆ·ç«¯ -->
    <script type="module" src="../js/api_client.js"></script>
    <!-- Monaco Editor JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/loader.js"></script>
    <script>
        // é…ç½®Monaco EditoråŠ è½½å™¨è·¯å¾„
        require.config({ paths: { 'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs' } });
    </script>
    <!-- ç¼–è¾‘å™¨ä¸»æ–‡ä»¶ -->
    <script type="module" src="../js/modules/editor.js"></script>
    <!-- ä¸»é…ç½®æ–‡ä»¶ -->
    <script type="module" src="../main.js"></script>
    <!-- æµ‹è¯•é¡µé¢é€»è¾‘ -->
    <script type="module" src="../js/pages/test_page.js"></script>
</body>

</html>